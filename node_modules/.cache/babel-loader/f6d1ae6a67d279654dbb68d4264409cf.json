{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luigy\\\\Desktop\\\\demo-app\\\\src\\\\components\\\\header\\\\header.js\",\n    _s = $RefreshSig$();\n\n/**\n * Copyright (c) Daniel Solarte Chaverra\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n */\nimport React from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport './header.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = ({\n  getObserver,\n  onThemeChange\n}) => {\n  _s();\n\n  const location = useLocation();\n  const history = useHistory();\n  const [isActive, setActive] = React.useState(true);\n  const [isChanging, setChanging] = React.useState(false);\n  const [currentPage, setCurrentPage] = React.useState('about-me');\n  const [currentEntry, setCurrentEntry] = React.useState('about-me');\n  const [firstEntry, setFirstEntry] = React.useState(false);\n  const [lastScroll, setLastScroll] = React.useState(window.scrollY);\n  const [isActiveMobile, setActiveMobile] = React.useState(false);\n  const [themeLoaded, setThemeLoaded] = React.useState(false);\n  const [theme, setTheme] = React.useState('light');\n  const pages = location.pathname.split('/').slice(2);\n\n  function setThemeElement(el) {\n    if (!el) {\n      return;\n    }\n\n    el.setAttribute('data-theme', theme);\n\n    if (el.children.length) {\n      for (let i = 0; i < el.children.length; i++) {\n        setThemeElement(el.children[i]);\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    if (themeLoaded) {\n      const themeSaved = localStorage.getItem('theme');\n\n      if (themeSaved !== theme) {\n        localStorage.removeItem('theme');\n        localStorage.setItem('theme', theme);\n      }\n\n      setThemeElement(document.getElementById('root'));\n      document.body.setAttribute('data-theme', theme);\n      onThemeChange(theme);\n    }\n  }, [theme, themeLoaded]);\n\n  if (pages[0] && pages[0].length && currentPage !== pages[0] && !firstEntry) {\n    setCurrentPage(pages[0]);\n    setFirstEntry(true);\n  }\n\n  function isPage(page) {\n    if (currentPage === page) {\n      return 'active';\n    }\n\n    return '';\n  }\n\n  window.onload = () => {\n    if (!themeLoaded) {\n      const themeSaved = localStorage.getItem('theme') || '';\n      setThemeLoaded(true);\n\n      if (themeSaved.length > 0 && themeSaved !== theme) {\n        setTheme(themeSaved);\n      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches && theme !== 'dark' && themeSaved.length === 0) {\n        setTheme('dark');\n      }\n    }\n  };\n\n  window.onscroll = () => {\n    const currentScroll = window.scrollY;\n    setActive(currentScroll < lastScroll);\n    setLastScroll(currentScroll);\n    setActiveMobile(false);\n  };\n\n  getObserver(new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const entryPage = entry.target.getAttribute('data-page');\n\n        if (entryPage && entryPage.length) {\n          setChanging(true);\n          setCurrentPage(entryPage);\n          setCurrentEntry(entryPage);\n          history.replace(`/#/${entryPage}`);\n          setChanging(false);\n        }\n      }\n    });\n  }, {\n    rootMargin: '0px 0px -85% 0px'\n  }));\n\n  function scrollToPage(page) {\n    const element = document.querySelector(`[data-page=\"${page}\"]`);\n\n    if (element) {\n      setTimeout(() => {\n        setChanging(true);\n        setCurrentEntry(page);\n        setActive(page === 'about-me');\n        setActiveMobile(false);\n        element.scrollIntoView({\n          behavior: 'smooth'\n        });\n        setChanging(false);\n      }, 100);\n    }\n  }\n\n  React.useEffect(() => {\n    if (currentEntry !== currentPage && !isChanging) {\n      scrollToPage(currentPage);\n    }\n  }, [currentEntry, currentPage, isChanging]);\n\n  function changePage(page) {\n    setCurrentPage(page);\n    scrollToPage(page);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: `header ${isActive ? 'header--active' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header__left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__left--icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__left--title\",\n        children: \"Elmer Gustavo P\\xFA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header__right\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"header__right--toggle\",\n        onClick: () => setActiveMobile(!isActiveMobile),\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 448 512\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fill: \"currentColor\",\n            d: \"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: `header__right--navigator ${isActiveMobile ? 'header__right--navigator--active' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: isPage('about-me'),\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/#/about-me\",\n            alt: \"About me section\",\n            onClick: () => changePage('about-me'),\n            children: \"Sobre m\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: isPage('projects'),\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/#/projects\",\n            alt: \"My projects section\",\n            onClick: () => changePage('projects'),\n            children: \"Projects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: isPage('skills'),\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/#/skills\",\n            alt: \"My skills section\",\n            onClick: () => changePage('skills'),\n            children: \"Skills\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: isPage('contact'),\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/#/contact\",\n            alt: \"My contact section\",\n            onClick: () => changePage('contact'),\n            children: \"Contacto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"theme-switch\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Light/Dark Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"themeInput\",\n            checked: theme === 'dark',\n            onChange: e => setTheme(e.target.checked ? 'dark' : 'light')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"themeInput\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Header, \"P7zBCcsg4sw5cgZnSJClT2fQas0=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/luigy/Desktop/demo-app/src/components/header/header.js"],"names":["React","Link","useHistory","useLocation","Header","getObserver","onThemeChange","location","history","isActive","setActive","useState","isChanging","setChanging","currentPage","setCurrentPage","currentEntry","setCurrentEntry","firstEntry","setFirstEntry","lastScroll","setLastScroll","window","scrollY","isActiveMobile","setActiveMobile","themeLoaded","setThemeLoaded","theme","setTheme","pages","pathname","split","slice","setThemeElement","el","setAttribute","children","length","i","useEffect","themeSaved","localStorage","getItem","removeItem","setItem","document","getElementById","body","isPage","page","onload","matchMedia","matches","onscroll","currentScroll","IntersectionObserver","entries","forEach","entry","isIntersecting","entryPage","target","getAttribute","replace","rootMargin","scrollToPage","element","querySelector","setTimeout","scrollIntoView","behavior","changePage","e","checked"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Daniel Solarte Chaverra\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n */\n\nimport React from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport './header.scss';\n\nconst Header = ({ getObserver, onThemeChange }) => {\n  const location = useLocation();\n  const history = useHistory();\n  const [isActive, setActive] = React.useState(true);\n  const [isChanging, setChanging] = React.useState(false);\n  const [currentPage, setCurrentPage] = React.useState('about-me');\n  const [currentEntry, setCurrentEntry] = React.useState('about-me');\n  const [firstEntry, setFirstEntry] = React.useState(false);\n  const [lastScroll, setLastScroll] = React.useState(window.scrollY);\n  const [isActiveMobile, setActiveMobile] = React.useState(false);\n  const [themeLoaded, setThemeLoaded] = React.useState(false);\n  const [theme, setTheme] = React.useState('light');\n\n  const pages = location.pathname.split('/').slice(2);\n\n  function setThemeElement(el) {\n    if (!el) {\n      return;\n    }\n  \n    el.setAttribute('data-theme', theme);\n  \n    if (el.children.length) {\n      for (let i = 0; i < el.children.length; i++) {\n        setThemeElement(el.children[i]);\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    if (themeLoaded) {\n      const themeSaved = localStorage.getItem('theme');\n\n      if (themeSaved !== theme) {\n        localStorage.removeItem('theme');\n        localStorage.setItem('theme', theme);\n      }\n\n      setThemeElement(document.getElementById('root'));\n\n      document.body.setAttribute('data-theme', theme);\n      onThemeChange(theme);\n    }\n  }, [theme, themeLoaded]);\n\n  if (pages[0] && pages[0].length && currentPage !== pages[0] && !firstEntry) {\n    setCurrentPage(pages[0]);\n    setFirstEntry(true);\n  }\n\n  function isPage(page) {\n    if (currentPage === page) {\n      return 'active';\n    }\n\n    return '';\n  }\n\n  window.onload = () => {\n    if (!themeLoaded) {\n      const themeSaved = localStorage.getItem('theme') || '';\n\n      setThemeLoaded(true);\n\n      if (themeSaved.length > 0 && themeSaved !== theme) {\n        setTheme(themeSaved);\n      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches && theme !== 'dark' && themeSaved.length === 0) {\n        setTheme('dark');\n      }\n    }\n  };\n\n  window.onscroll = () => {\n    const currentScroll = window.scrollY;\n\n    setActive(currentScroll < lastScroll);\n    setLastScroll(currentScroll);\n    setActiveMobile(false);\n  };\n\n  getObserver(new IntersectionObserver((entries) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n        const entryPage = entry.target.getAttribute('data-page');\n\n        if (entryPage && entryPage.length) {\n          setChanging(true);\n          setCurrentPage(entryPage);\n          setCurrentEntry(entryPage);\n\n          history.replace(`/#/${entryPage}`);\n\n          setChanging(false);\n        }\n      }\n    });\n  }, { rootMargin: '0px 0px -85% 0px' }));\n\n  function scrollToPage(page) {\n    const element = document.querySelector(`[data-page=\"${page}\"]`);\n\n    if (element) {\n      setTimeout(() => {\n        setChanging(true);\n        setCurrentEntry(page);\n        setActive(page === 'about-me');\n        setActiveMobile(false);\n\n        element.scrollIntoView({\n          behavior: 'smooth',\n        });\n\n        setChanging(false);\n      }, 100);\n    }\n  }\n\n  React.useEffect(() => {\n    if (currentEntry !== currentPage && !isChanging) {\n      scrollToPage(currentPage);\n    }\n  }, [currentEntry, currentPage, isChanging]);\n\n  function changePage(page) {\n    setCurrentPage(page);\n    scrollToPage(page);\n  }\n\n  return (\n    <header className={`header ${isActive ? 'header--active' : ''}`}>\n      <div className=\"header__left\">\n        <div className=\"header__left--icon\" />\n        <div className=\"header__left--title\">\n\t\tElmer Gustavo Pú\n        </div>\n      </div>\n      <div className=\"header__right\">\n        <button className=\"header__right--toggle\" onClick={() => setActiveMobile(!isActiveMobile)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\n            <path fill=\"currentColor\" d=\"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" />\n          </svg>\n        </button>\n        <ul className={`header__right--navigator ${isActiveMobile ? 'header__right--navigator--active' : ''}`}>\n          <li className={isPage('about-me')}><Link to=\"/#/about-me\" alt=\"About me section\" onClick={() => changePage('about-me')}>\n            Sobre mí\n          </Link></li>\n          <li className={isPage('projects')}><Link to=\"/#/projects\" alt=\"My projects section\" onClick={() => changePage('projects')}>\n            Projects\n          </Link></li>\n          <li className={isPage('skills')}><Link to=\"/#/skills\" alt=\"My skills section\" onClick={() => changePage('skills')}>\n            Skills\n          </Link></li>\n          <li className={isPage('contact')}><Link to=\"/#/contact\" alt=\"My contact section\" onClick={() => changePage('contact')}>\n            Contacto\n          </Link></li>\n          <div className=\"theme-switch\">\n            <span>Light/Dark Mode</span>\n            <input type=\"checkbox\" id=\"themeInput\" checked={theme === 'dark'} onChange={(e) => setTheme(e.target.checked ? 'dark' : 'light')} />\n            <label htmlFor=\"themeInput\"></label>\n          </div>\n        </ul>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}